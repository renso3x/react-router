!function(n,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.History=t():n.History=t()}(this,function(){return function(n){function t(o){if(e[o])return e[o].exports;var r=e[o]={exports:{},id:o,loaded:!1};return n[o].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var e={};return t.m=n,t.c=e,t.p="",t(0)}([function(n,t,e){"use strict";function o(n){return n&&n.__esModule?n:{"default":n}}t.__esModule=!0,t.locationsAreEqual=t.createMemoryHistory=t.createHashHistory=t.createBrowserHistory=void 0;var r=e(5);Object.defineProperty(t,"locationsAreEqual",{enumerable:!0,get:function(){return r.locationsAreEqual}});var i=e(8),a=o(i),u=e(9),c=o(u),s=e(10),f=o(s);t.createBrowserHistory=a["default"],t.createHashHistory=c["default"],t.createMemoryHistory=f["default"]},function(n,t,e){"use strict";function o(n){return n&&n.__esModule?n:{"default":n}}t.__esModule=!0;var r=e(2),i=(o(r),function(){var n=null,t=function(t){return n=t,function(){n===t&&(n=null)}},e=function(t,e,o,r){if(null!=n){var i="function"==typeof n?n(t,e):n;"string"==typeof i?"function"==typeof o?o(i,r):r(!0):r(i!==!1)}else r(!0)},o=[],r=function(n){return o.push(n),function(){o=o.filter(function(t){return t!==n})}},i=function(){for(var n=arguments.length,t=Array(n),e=0;e<n;e++)t[e]=arguments[e];return o.forEach(function(n){return n.apply(void 0,t)})};return{setPrompt:t,confirmTransitionTo:e,appendListener:r,notifyListeners:i}});t["default"]=i},function(n,t,e){"use strict";var o=function(){};n.exports=o},function(n,t){"use strict";t.__esModule=!0;t.addEventListener=function(n,t,e){return n.addEventListener?n.addEventListener(t,e,!1):n.attachEvent("on"+t,e)},t.removeEventListener=function(n,t,e){return n.removeEventListener?n.removeEventListener(t,e,!1):n.detachEvent("on"+t,e)},t.getConfirmation=function(n,t){return t(window.confirm(n))},t.supportsHistory=function(){var n=window.navigator.userAgent;return(n.indexOf("Android 2.")===-1&&n.indexOf("Android 4.0")===-1||n.indexOf("Mobile Safari")===-1||n.indexOf("Chrome")!==-1||n.indexOf("Windows Phone")!==-1)&&(window.history&&"pushState"in window.history)},t.supportsPopStateOnHashChange=function(){return window.navigator.userAgent.indexOf("Trident")===-1},t.supportsGoWithoutReloadUsingHash=function(){return window.navigator.userAgent.indexOf("Firefox")===-1}},function(n,t){"use strict";t.__esModule=!0;t.canUseDOM=!("undefined"==typeof window||!window.document||!window.document.createElement)},function(n,t){"use strict";t.__esModule=!0;var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol?"symbol":typeof n},o=function r(n,t){if(null==n)return n==t;var o="undefined"==typeof n?"undefined":e(n),i="undefined"==typeof t?"undefined":e(t);if(o!==i)return!1;if(Array.isArray(n))return!(!Array.isArray(t)||n.length!==t.length)&&n.every(function(n,e){return r(n,t[e])});if("object"===o){var a=Object.keys(n),u=Object.keys(t);return a.length===u.length&&a.every(function(e){return r(n[e],t[e])})}return n===t};t.locationsAreEqual=function(n,t){return n.path===t.path&&n.key===t.key&&o(n.state,t.state)}},function(n,t){"use strict";t.__esModule=!0;t.addLeadingSlash=function(n){return"/"===n.charAt(0)?n:"/"+n},t.stripLeadingSlash=function(n){return"/"===n.charAt(0)?n.substr(1):n},t.stripPrefix=function(n,t){return 0===n.indexOf(t)?n.substr(t.length):n}},function(n,t,e){"use strict";var o=function(n,t,e,o,r,i,a,u){if(!n){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=[e,o,r,i,a,u],f=0;c=new Error(t.replace(/%s/g,function(){return s[f++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}};n.exports=o},function(n,t,e){"use strict";function o(n){return n&&n.__esModule?n:{"default":n}}t.__esModule=!0;var r=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},i=e(2),a=(o(i),e(7)),u=o(a),c=e(6),s=e(1),f=o(s),l=e(4),d=e(3),h="popstate",v="hashchange",p=function(){try{return window.history.state||{}}catch(n){return{}}},y=function(){var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];l.canUseDOM?void 0:(0,u["default"])(!1);var t=(0,d.supportsHistory)(),e=!(0,d.supportsPopStateOnHashChange)(),o=n.basename,i=void 0===o?"":o,a=n.forceRefresh,s=void 0!==a&&a,y=n.getUserConfirmation,g=void 0===y?d.getConfirmation:y,w=n.keyLength,m=void 0===w?6:w,x=function(n){var t=n||{},e=t.key,o=t.state,r=window.location,a=r.pathname,u=r.search,s=r.hash,f=a+u+s;return i&&(f=(0,c.stripPrefix)(f,i)),{path:f,state:o,key:e}},P=function(){return Math.random().toString(36).substr(2,m)},O=x(p()),L={action:"POP",location:O,allKeys:[O.key]},b=(0,f["default"])(),E=function(n){r(L,n),b.notifyListeners(L.location,L.action)},_=function(n){void 0!==n.state&&T(x(n.state))},k=function(){T(x(p()))},M=!1,T=function(n){M?(M=!1,E()):!function(){var t="POP";b.confirmTransitionTo(n,t,g,function(e){e?E({action:t,location:n}):A(n)})}()},A=function(n){var t=L.location,e=L.allKeys,o=e.indexOf(t.key);o===-1&&(o=0);var r=e.indexOf(n.key);r===-1&&(r=0);var i=o-r;i&&(M=!0,j(i))},S=function(){return L.location||x(p())},H=function(n,e){var o="PUSH",r=P(),a={path:n,state:e,key:r};b.confirmTransitionTo(a,o,g,function(u){if(u){var c=i+n;if(t)if(window.history.pushState({key:r,state:e},null,c),s)window.location.href=c;else{var f=L.allKeys,l=f.indexOf(L.location.key),d=f.slice(0,l===-1?0:l+1);d.push(a.key),E({action:o,location:a,allKeys:d})}else window.location.href=c}})},C=function(n,e){var o="REPLACE",r=P(),a={path:n,state:e,key:r};b.confirmTransitionTo(a,o,g,function(u){if(u){var c=i+n;if(t)if(window.history.replaceState({key:r,state:e},null,c),s)window.location.replace(c);else{var f=L.allKeys.slice(0),l=f.indexOf(L.location.key);l!==-1&&(f[l]=a.key),E({action:o,location:a,allKeys:f})}else window.location.replace(c)}})},j=function(n){window.history.go(n)},U=function(){return j(-1)},I=function(){return j(1)},K=0,R=function(n){K+=n,1===K?((0,d.addEventListener)(window,h,_),e&&(0,d.addEventListener)(window,v,k)):0===K&&((0,d.removeEventListener)(window,h,_),e&&(0,d.removeEventListener)(window,v,k))},q=!1,B=function(){var n=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],t=b.setPrompt(n);return q||(R(1),q=!0),function(){return q&&(q=!1,R(-1)),t()}},F=function(n){var t=b.appendListener(n);return R(1),function(){return R(-1),t()}};return{getCurrentLocation:S,push:H,replace:C,go:j,goBack:U,goForward:I,block:B,listen:F}};t["default"]=y},function(n,t,e){"use strict";function o(n){return n&&n.__esModule?n:{"default":n}}t.__esModule=!0;var r=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},i=e(2),a=(o(i),e(7)),u=o(a),c=e(5),s=e(6),f=e(1),l=o(f),d=e(4),h=e(3),v="hashchange",p={hashbang:{encodePath:function(n){return"!"===n.charAt(0)?n:"!/"+(0,s.stripLeadingSlash)(n)},decodePath:function(n){return"!"===n.charAt(0)?n.substr(1):n}},noslash:{encodePath:s.stripLeadingSlash,decodePath:s.addLeadingSlash},slash:{encodePath:s.addLeadingSlash,decodePath:s.addLeadingSlash}},y=function(){var n=window.location.href,t=n.indexOf("#");return t===-1?"":n.substring(t+1)},g=function(n){return window.location.hash=n},w=function(n){var t=window.location.href.indexOf("#");window.location.replace(window.location.href.slice(0,t>=0?t:0)+"#"+n)},m=function(){var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];d.canUseDOM?void 0:(0,u["default"])(!1);var t=((0,h.supportsGoWithoutReloadUsingHash)(),n.basename),e=void 0===t?"":t,o=n.getUserConfirmation,i=void 0===o?h.getConfirmation:o,a=n.hashType,f=void 0===a?"slash":a,m=p[f],x=m.encodePath,P=m.decodePath,O=function(){var n=P(y());return e&&(n=(0,s.stripPrefix)(n,e)),{path:n}},L=y(),b=x(L);L!==b&&w(b);var E=O(),_={action:"POP",location:E,allPaths:[E.path]},k=(0,l["default"])(),M=function(n){r(_,n),k.notifyListeners(_.location,_.action)},T=!1,A=null,S=function(){var n=y(),t=x(n);if(n!==t)w(t);else{var e=O(),o=_.location;if(!T&&(0,c.locationsAreEqual)(o,e))return;if(A===e.path)return;A=null,H(e)}},H=function(n){T?(T=!1,M()):!function(){var t="POP";k.confirmTransitionTo(n,t,i,function(e){e?M({action:t,location:n}):C(n)})}()},C=function(n){var t=_.location,e=_.allPaths,o=e.lastIndexOf(t.path);o===-1&&(o=0);var r=e.lastIndexOf(n.path);r===-1&&(r=0);var i=o-r;i&&(T=!0,K(i))},j=function(){return _.location||O()},U=function(n,t){var o="PUSH",r={path:n};k.confirmTransitionTo(r,o,i,function(t){if(t){var i=x(e+n),a=y()!==i;if(a){A=n,g(i);var u=_.allPaths,c=u.lastIndexOf(_.location.path),s=u.slice(0,c===-1?0:c+1);s.push(r.path),M({action:o,location:r,allPaths:s})}else M()}})},I=function(n,t){var o="REPLACE",r={path:n};k.confirmTransitionTo(r,o,i,function(t){if(t){var i=x(e+n),a=y()!==i;a&&(A=n,w(i));var u=_.allPaths.slice(0),c=u.indexOf(_.location.path);c!==-1&&(u[c]=r.path),M({action:o,location:r,allPaths:u})}})},K=function(n){window.history.go(n)},R=function(){return K(-1)},q=function(){return K(1)},B=0,F=function(n){B+=n,1===B?(0,h.addEventListener)(window,v,S):0===B&&(0,h.removeEventListener)(window,v,S)},D=!1,G=function(){var n=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],t=k.setPrompt(n);return D||(F(1),D=!0),function(){return D&&(D=!1,F(-1)),t()}},W=function(n){var t=k.appendListener(n);return F(1),function(){return F(-1),t()}};return{getCurrentLocation:j,push:U,replace:I,go:K,goBack:R,goForward:q,block:G,listen:W}};t["default"]=m},function(n,t,e){"use strict";function o(n){return n&&n.__esModule?n:{"default":n}}t.__esModule=!0;var r=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},i=e(1),a=o(i),u=function(n,t,e){return Math.min(Math.max(n,t),e)},c=function(){var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=n.getUserConfirmation,e=n.initialEntries,o=void 0===e?["/"]:e,i=n.initialIndex,c=void 0===i?0:i,s=n.keyLength,f=void 0===s?6:s,l=o.map(function(n){return"string"==typeof n?{path:n}:n}),d={prevIndex:null,action:"POP",index:u(c,0,l.length-1),entries:l},h=(0,a["default"])(),v=function(n){r(d,n),h.notifyListeners(y(),d.action)},p=function(){return Math.random().toString(36).substr(2,f)},y=function(){return d.entries[d.index]},g=function(n,e){var o="PUSH",r=p(),i={path:n,state:e,key:r};h.confirmTransitionTo(i,o,t,function(n){if(n){var t=d.index,e=t+1,r=d.entries.slice(0);r.length>e?r.splice(e,r.length-e,i):r.push(i),v({prevIndex:d.index,action:o,index:e,entries:r})}})},w=function(n,e){var o="REPLACE",r=p(),i={path:n,state:e,key:r};h.confirmTransitionTo(i,o,t,function(n){if(n){var t=d.index,e=d.entries.slice(0);e[t]=i,v({prevIndex:d.index,action:o,entries:e})}})},m=function(n){var e=d.index,o=d.entries,r=u(e+n,0,o.length-1),i="POP",a=o[r];h.confirmTransitionTo(a,i,t,function(n){n?v({prevIndex:e,action:i,index:r}):v()})},x=function(){return m(-1)},P=function(){return m(1)},O=function(n){var t=d.index,e=d.entries,o=t+n;return o>=0&&o<e.length},L=function(){var n=!(arguments.length<=0||void 0===arguments[0])&&arguments[0];return h.setPrompt(n)},b=function(n){return h.appendListener(n)};return{getCurrentLocation:y,push:g,replace:w,go:m,goBack:x,goForward:P,canGo:O,block:L,listen:b}};t["default"]=c}])});